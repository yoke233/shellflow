{
  "$schema": "https://raw.githubusercontent.com/shkm/shellflow/main/schemas/config.schema.json",
  // Shellflow Default Configuration
  // https://github.com/shkm/shellflow/blob/main/src-tauri/src/default_config.jsonc

  "main": {
    // Command to run in the main terminal pane. If null or omitted, spawns your shell.
    // "command": "claude",
    "fontFamily": "Menlo, Monaco, 'Courier New', monospace",
    "fontSize": 13,
    "fontLigatures": false,
    // Padding around the terminal content in pixels
    "padding": 8
    // Opacity (0.0 to 1.0) applied to the main area when drawer is focused.
    // Defaults to panes.unfocusedOpacity if not specified.
    // "unfocusedOpacity": 0.7
  },

  // Drawer terminal configuration. Properties inherit from "main" if not specified:
  // fontFamily, fontSize, fontLigatures, padding
  // Opacity (0.0 to 1.0) applied to drawer when open but not focused.
  // Defaults to panes.unfocusedOpacity if not specified.
  // "drawer": { "unfocusedOpacity": 0.7 },
  "drawer": {},

  // External applications to open directories/files with.
  // Supports string shorthand ("zed") or object form ({ "command": "nvim", "target": "drawer" })
  //
  // Commands support {{ path }} template for path placement:
  //   - "nvim" → nvim "/path/to/file" (path appended)
  //   - "nvim {{ path }}" → nvim "/path/to/file" (explicit)
  //   - "code -g {{ path }}" → code -g "/path/to/file" (with flags)
  //
  // Target options:
  //   - "external": Run command directly (for GUI apps)
  //   - "terminal": Run inside a new terminal window (for TUI apps)
  //   - "drawer": Open in shellflow's drawer
  //   - "tab": Open in a new main area tab
  //
  // Platform defaults (when not configured):
  //   - terminal: Terminal.app (macOS), xdg-terminal-exec (Linux), Windows Terminal
  //   - editor: $VISUAL or $EDITOR, in a new terminal window
  //   - fileManager: Finder (macOS), xdg-open (Linux), explorer (Windows)
  "apps": {
    // "terminal": "ghostty",
    // "editor": { "command": "zed", "target": "external" },
    // "editor": { "command": "nvim", "target": "drawer" },
    // "fileManager": "Finder"
  },

  // Override the default shell for all terminals (e.g., "C:\\Program Files\\PowerShell\\7\\pwsh.exe")
  // "shell": null,

  "worktree": {
    // Supports placeholder: {{ repo_directory }}
    "directory": "{{ repo_directory }}/.worktrees",
    // Branch to create worktrees from: "auto" (default branch), "current", or { "name": "branchname" }
    "baseBranch": "auto",
    "copy": {
      "gitIgnored": false,
      "except": [".claude", ".worktrees"]
    },
    // Focus the branch name input when creating a new worktree
    "focusNewBranchNames": false,
    "merge": {
      "strategy": "merge",
      "deleteWorktree": true,
      "deleteLocalBranch": false,
      "deleteRemoteBranch": false
    },
    "delete": {
      // Delete the local branch when deleting a worktree
      "deleteBranchWithWorktree": true
    }
  },


  "indicators": {
    // Time in ms after last activity before progress indicator turns off
    "activityTimeout": 250,
    // Show checkmark when activity stops (idle state)
    "showIdleCheck": true
  },

  "scratch": {
    // Create a scratch terminal when the app launches
    "startOnLaunch": true
  },

  // Split pane configuration
  "panes": {
    // Opacity (0.0 to 1.0) applied to unfocused split panes
    "unfocusedOpacity": 0.7
  },

  // AI-assisted actions configuration.
  // Variables: {{ worktree_dir }}, {{ worktree_name }}, {{ branch }}, {{ target_branch }}, {{ conflicted_files }}
  "actions": {
    // Command to run for AI-assisted actions
    "command": "claude",
    // Prompt for merge conflict resolution
    "mergeWorktreeWithConflicts": "In the git worktree at \"{{ worktree_dir }}\", complete the merge of branch \"{{ branch }}\" into \"{{ target_branch }}\".\n\nThe following files have merge conflicts:\n{% for file in conflicted_files %}- {{ file }}\n{% endfor %}\n\nAll conflict information is provided above - do not run git status or other diagnostic commands.\n\nRead only the conflicted files listed, resolve each conflict appropriately based on the code context, stage the resolved files with `git add`, and complete the merge with `git commit`.",
    // Prompt for rebase conflict resolution
    "rebaseWorktreeWithConflicts": "In the git worktree at \"{{ worktree_dir }}\", complete the rebase of branch \"{{ branch }}\" onto \"{{ target_branch }}\".\n\nThe following files have conflicts:\n{% for file in conflicted_files %}- {{ file }}\n{% endfor %}\n\nAll conflict information is provided above - do not run git status or other diagnostic commands.\n\nRead only the conflicted files listed, resolve each conflict appropriately based on the code context, stage the resolved files with `git add`, then run `git rebase --continue`.\n\nNote: Rebasing may involve multiple commits. After running `git rebase --continue`, check if there are more conflicts. If so, repeat the process until the rebase is complete."
  }

  // Theme configuration - uses VSCode themes.
  // Can be a single theme name or light/dark object for system preference switching.
  // When omitted, defaults to: { "light": "Catppuccin Latte", "dark": "Catppuccin Mocha" }
  //
  // Single theme (ignores system preference):
  // "theme": "Catppuccin Mocha"
  //
  // Light/dark themes (switches based on system preference):
  // "theme": {
  //   "light": "Catppuccin Latte",
  //   "dark": "Catppuccin Mocha"
  // }
  //
  // Bundled themes: Catppuccin (Mocha, Macchiato, Frappé, Latte), One Dark Pro, Dracula, Nord, Gruvbox
  // Custom themes: Place VSCode theme JSON files in ~/.config/shellflow/themes/

  // How to handle borders when adapting themes:
  //   - "theme": Use exactly what the theme specifies (including transparent)
  //   - "subtle": Add subtle borders only where none exist (default)
  //   - "visible": Always ensure visible borders
  // "themeBorderStyle": "subtle"

  // Keyboard mappings are now defined in ~/.config/shellflow/mappings.jsonc
  // See src/lib/defaultMappings.jsonc for default keybindings

  // Example tasks (define in your project's .shellflow/config.jsonc):
  // "tasks": [
  //   {
  //     "name": "Dev Server",
  //     "command": "npm run dev",
  //     "kind": "daemon",
  //     "env": {
  //       "PORT": "{{ branch | hash_port }}",
  //       "NODE_ENV": "development"
  //     },
  //     "urls": {
  //       "Dev": "http://localhost:{{ branch | hash_port }}"
  //     }
  //   }
  // ]
}
