{
  "$schema": "https://raw.githubusercontent.com/shkm/one-man-band/main/src-tauri/src/config.schema.json",
  // One Man Band Default Configuration
  // https://github.com/shkm/one-man-band/blob/main/src-tauri/src/default_config.jsonc

  "main": {
    "command": "claude",
    "fontFamily": "Menlo, Monaco, 'Courier New', monospace",
    "fontSize": 13,
    "fontLigatures": false,
    // Padding around the terminal content in pixels
    "padding": 8
  },

  "terminal": {
    "fontFamily": "Menlo, Monaco, 'Courier New', monospace",
    "fontSize": 13,
    "fontLigatures": false,
    // Padding around the terminal content in pixels
    "padding": 8
  },

  "worktree": {
    // Supports placeholder: {{ repo_directory }}
    "directory": "{{ repo_directory }}/.worktrees",
    // Branch to create worktrees from: "auto" (default branch), "current", or { "name": "branchname" }
    "baseBranch": "auto",
    "copy": {
      "gitIgnored": false,
      "except": [".claude", ".worktrees"]
    }
  },

  "merge": {
    "strategy": "merge",
    "deleteWorktree": true,
    "deleteLocalBranch": false,
    "deleteRemoteBranch": false
  },

  "indicators": {
    // Time in ms after last activity before progress indicator turns off
    "activityTimeout": 250,
    // Show checkmark when activity stops (idle state)
    "showIdleCheck": true
  },

  // AI-assisted actions configuration.
  // Variables: {{ worktree_dir }}, {{ worktree_name }}, {{ branch }}, {{ target_branch }}, {{ conflicted_files }}
  "actions": {
    // Command to run for AI-assisted actions
    "command": "claude",
    // Prompt for merge conflict resolution
    "mergeWorktreeWithConflicts": "In the git worktree at \"{{ worktree_dir }}\", complete the merge of branch \"{{ branch }}\" into \"{{ target_branch }}\".\n\nThe following files have merge conflicts:\n{% for file in conflicted_files %}- {{ file }}\n{% endfor %}\n\nAll conflict information is provided above - do not run git status or other diagnostic commands.\n\nRead only the conflicted files listed, resolve each conflict appropriately based on the code context, stage the resolved files with `git add`, and complete the merge with `git commit`.",
    // Prompt for rebase conflict resolution
    "rebaseWorktreeWithConflicts": "In the git worktree at \"{{ worktree_dir }}\", complete the rebase of branch \"{{ branch }}\" onto \"{{ target_branch }}\".\n\nThe following files have conflicts:\n{% for file in conflicted_files %}- {{ file }}\n{% endfor %}\n\nAll conflict information is provided above - do not run git status or other diagnostic commands.\n\nRead only the conflicted files listed, resolve each conflict appropriately based on the code context, stage the resolved files with `git add`, then run `git rebase --continue`.\n\nNote: Rebasing may involve multiple commits. After running `git rebase --continue`, check if there are more conflicts. If so, repeat the process until the rebase is complete."
  },

  // Keyboard mappings. Each mapping can be:
  // - A string: "cmd+c" (universal shortcut)
  // - A platform object: { "mac": "cmd+c", "other": "ctrl+shift+c" }
  // - An array mixing both: ["ctrl+x", { "mac": "cmd+x", "other": "ctrl+shift+x" }]
  //
  // Modifier keys: ctrl, cmd, alt, shift (combine with +)
  // "cmd" = Cmd on macOS, Ctrl on other platforms
  "mappings": {
    "toggleDrawer": "ctrl+`",
    "toggleRightPanel": "cmd+b",
    "terminalCopy": { "mac": "cmd+c", "other": "ctrl+shift+c" },
    "terminalPaste": { "mac": "cmd+v", "other": "ctrl+shift+v" },
    "worktreePrev": { "mac": "cmd+k", "other": "ctrl+shift+k" },
    "worktreeNext": { "mac": "cmd+j", "other": "ctrl+shift+j" },
    "worktree1": { "mac": "cmd+1", "other": "ctrl+1" },
    "worktree2": { "mac": "cmd+2", "other": "ctrl+2" },
    "worktree3": { "mac": "cmd+3", "other": "ctrl+3" },
    "worktree4": { "mac": "cmd+4", "other": "ctrl+4" },
    "worktree5": { "mac": "cmd+5", "other": "ctrl+5" },
    "worktree6": { "mac": "cmd+6", "other": "ctrl+6" },
    "worktree7": { "mac": "cmd+7", "other": "ctrl+7" },
    "worktree8": { "mac": "cmd+8", "other": "ctrl+8" },
    "worktree9": { "mac": "cmd+9", "other": "ctrl+9" },
    "runTask": { "mac": "cmd+r", "other": "ctrl+shift+r" },
    "newWorkspace": { "mac": "cmd+n", "other": "ctrl+n" },
    "switchFocus": "ctrl+\\",
    "taskSwitcher": { "mac": "cmd+;", "other": "ctrl+;" },
    "expandDrawer": "shift+Escape",
    "previousView": { "mac": "cmd+'", "other": "ctrl+'" },
    "zoomIn": { "mac": "cmd+=", "other": "ctrl+=" },
    "zoomOut": { "mac": "cmd+-", "other": "ctrl+-" },
    "zoomReset": { "mac": "cmd+shift+0", "other": "ctrl+shift+0" }
  }

  // Example tasks (define in your project's .onemanband/config.jsonc):
  // "tasks": [
  //   {
  //     "name": "Dev Server",
  //     "command": "npm run dev",
  //     "kind": "daemon",
  //     "env": {
  //       "PORT": "{{ branch | hash_port }}",
  //       "NODE_ENV": "development"
  //     },
  //     "urls": {
  //       "Dev": "http://localhost:{{ branch | hash_port }}"
  //     }
  //   }
  // ]
}
